<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>The Boson framework</title>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/neon.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>
</head>
<body>
  <div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->

    <section class="slide" id="frontpage">
      <div class="vcenter">
        <h1>The low-level awesomeness of Go</h1>
        <h2>Seen from a C++ developer</h2>
      </div>
    </section>

    <section class="slide" id="cpp-concurrent">
      <div class="vcenter">
        <h2>Concurrent I/O programming in C++</h2>
        <h3>is a real pain</h3>
        <ul>
          <li class="slide" id="cpp-conc-complicated">
            <strong>Complicated</strong>: The program intent is diluted into synchronisation tooling (threads lifecycle, mutexes, event loops).
          </li>

          <li class="slide" id="cpp-con-verbose">
            <strong>Verbose</strong>:  A lot of code to write to do simple things.
          </li>

          <li class="slide" id="cpp-conc-error">
            <strong>Delicate</strong>: One step out of the way and you blow the whole thing up.
          </li>
        </ul>
      </div>
    </section>

    <section class="slide" id="go-awesomeness">
      <div class="vcenter">
        <h2>Why Go looks awesome for backend C++ developers</h2>
        <ul>
          <li class="slide" id="go-clean">
            <strong>Clean</strong>: Write the tasks in the order they are supposed to happen.
          </li>

          <li class="slide" id="go-io-friendly">
            <strong>I/O friendly</strong>: Routines parked by the net poller is a must have.
          </li>

          <li class="slide" id="go-cpu-time">
            <strong>Code as data flow</strong>: Channels ensure readability and efficient CPU time usage.
          </li>
        </ul>
      </div>
    </section>

    <section class="slide" id="boson-features">
      <div class="vcenter">
        <h3>Goroutines : how does it do it</h3>
        <h2>ASM code</h2>
        <ul>
          <li class="slide" id="go-clean">
            Go is written in assembly and Go exclusively (except for cgo).
          </li>

          <li class="slide" id="go-io-friendly">
            Context-switching is written in ASM
          </li>

          <li class="slide" id="go-cpu-time">
            Peculiar Thread Local Storage trick
          </li>
        </ul>
      </div>
    </section>

    <section class="slide" id="go-ctx-switch-1">
      <div class="vcenter">
        <h3>Goroutines : how does it do it</h3>
        <h2>Context switching : one thread example</h2>
        <ul>
          <li class="slide" id="go-clean">
            Routine A is executing and needs to pause on a I/O syscall.
          </li>

          <li class="slide" id="go-io-friendly">
            Routine A context-switches to scheduler.
          </li>

          <li class="slide" id="go-cpu-time">
            Scheduler context-switches to available routine B.
          </li>
        </ul>
      </div>
    </section>

    <section class="slide" id="go-ctx-switch-1">
      <div class="vcenter">
        <h3>Goroutines : how does it do it</h3>
        <h2>Context switching : speed</h2>
        <ul>
          <li class="slide" id="go-clean">
            Process context swich: 2500 to 4000 nanoseconds.
          </li>

          <li class="slide" id="go-io-friendly">
            Process context swich: 1300 to 3000 nanoseconds.
          </li>

          <li class="slide" id="go-cpu-time">
            Go routine / boost.context context switch: less than 10 nanoseconds.
          </li>
        </ul>
      </div>
    </section>

    <section class="slide" id="go-io-loop">
      <div class="vcenter">
        <h3>Net poller : how does it do it</h3>
        <h2>I/O event loop</h2>
        <ul>
          <li class="slide" id="go-clean">
            Per platform implementation: epoll, kqueue, I/O Completion Ports.
          </li>

          <li class="slide" id="go-io-friendly">
            Integrated into the scheduler.
          </li>

          <li class="slide" id="go-cpu-time">
            Transparent for the user : use classic syscalls.
          </li>
        </ul>
      </div>
    </section>

    <section class="slide" id="go-channels-1">
      <div class="vcenter">
        <h3>Channels : how does it do it</h3>
        <h2>I/O event loop</h2>
        <ul>
          <li class="slide" id="go-clean">
            Per platform implementation: epoll, kqueue, I/O Completion Ports.
          </li>

          <li class="slide" id="go-io-friendly">
            Integrated into the scheduler.
          </li>

          <li class="slide" id="go-cpu-time">
            Transparent for the user : use classic syscalls.
          </li>
        </ul>
      </div>
    </section>

    <section class="slide" id="boson-features">
      <div class="vcenter">
        <h3>Goroutines : how does it do it</h3>
        <h2>ASM code</h2>
        <p>The root of it all is assembly code, written by people smart enough to right OSes.</p>
      </div>
    </section>

    <section class="slide" id="example-read">
      <h2>Quick examples</h2>
      <pre><code>
    void read_socket(int fd) {
      std::array&lt;char,1024&gt; buffer;
      while(boson::read(fd, buffer.data(), buffer.size()-1)) {
        std::cout &lt;&lt; buffer.data();
      }
    }

    // ...

    int fd1 = get_socket_fd1();  // A supposed socket
    int fd2 = get_socket_fd2();  // A supposed socket
    boson::engine instance(1);   // Start with 1 thread
    instance.start(read_socket, fd1);
    instance.start(read_socket, fd2);
      </code></pre>
    </section>

    <section class="slide" id="example-channels">
      <h2>Quick examples</h2>
      <pre><code>
    boson::channel&lt;int&gt; chan(5);  // Channel with a 5 long buffer
    boson::engine instance(1);          // Start with 1 thread
    instance.start([chan]() mutable {   // Channels must be passed by copy
      for (int i = 0; i &lt; 10; ++i)
        chan.push(i);
      chan.close(); 
    });
    instance.start([chan]() mutable {
      int i = 0;
      while(chan.pop(i))
        std::cout &lt;&lt; i &lt;&lt; "\n";
    });
      </code></pre>
    </section>

    <section class="slide" id="github">
      <div class="vcenter">
        <h2>Meet the framework on github</h2>
        <h2><a href="https://github.com/duckie/boson">https://github.com/duckie/boson</a></h2>
      </div>
    </section>

    <section class="slide" id="thanks">
      <h1>Thank you very much</h1>
    </section>


    <!-- deck.navigation snippet -->
    <!--<div aria-role="navigation">
      <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
      <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>-->

    <!-- deck.status snippet -->
    <p class="deck-status" aria-role="status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
  </div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
  });
</script>
</body>
</html>
